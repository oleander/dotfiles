#!/usr/bin/env bash

set -e

if ! command -v brew &>/dev/null; then
    echo "brew is not installed"
    exit 1
fi

if ! command -v cargo &>/dev/null; then
    echo "Installing rust with cargo"
    curl https://sh.rustup.rs -sSf | sh
fi

source "$HOME/.cargo/env"

echo "Installing cargo-binstall"
brew install cargo-binstall

echo "Installing git-ai"
cargo binstall -y git-ai
