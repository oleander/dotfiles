# Git related stuff
alias gp='git_push_origin'
alias gpp='git_pull_origin'
alias gph='git push heroku master'
alias gs='git status --ignore-submodules -s -b'
alias gph='git push heroku master'
alias gc='git checkout'
alias gcp='git cherry-pick'
alias gd='git diff --stat'
alias gb='git branch'
alias gl='git log --format="%h by %C(red)%an%Creset, %ar%n%C(green)%s%n" -n 7'
alias ga='git add'
alias gaa='git-manual-add'
alias gdd='git diff'
alias gg='gg-git'

# Ruby related stuff
alias v='ruby -v'
alias bb='bundle exec'
alias b='custom-bundler'
alias d='time cap deploy'
alias ss='rails s --debugger'
alias rs='rspec --drb'
alias P='RAILS_ENV=production'
alias D='RAILS_ENV=development'
alias T='RAILS_ENV=test'
alias ld='tail -f -n 40 log/development.log'
alias lp='tail -f -n 40 log/production.log'
alias f='foreman start'

# Other
alias dd='cd ~/Desktop'
alias kk='kk-kill'
alias flush='dscacheutil -flushcache'
alias p='ps aux | grep'
alias ip='echo "puts %x{ifconfig}.match(/en0:.+?inet ([^\s+]+)/m).to_a.last" | ruby'
alias tab='custom_tab'
alias gt='generate_tags'

# Reloads the all settings
alias s='source ~/.zshrc'

# Edit specific files
alias ei='mate .gitignore'
alias ee='mate ~/.dotfiles'

# Jumping to a dir
alias dot='cd ~/.dotfiles'
alias cr='cd /Users/linus/Documents/Projekt/'
alias r='cr && cd Rubyfy'
alias m='cr && cd Movify'

# Updating the database for the locate command
alias update='sudo /usr/libexec/locate.updatedb'

function ga() {
  git commit --amend -m "$*"
}

# Manual git commit
function gcc() {
  git commit -v -m "$*"
}

function burn() {
  avrdude -p m88 -c stk500 -P /dev/cu.PL2303-00004006 -e -U flash:w:main.rom
}

function compile() {
  avr-gcc -O1 main.c -mmcu=atmega88 -o main.rom -I /usr/local/CrossPack-AVR/include/simulavr/
}

# Top 10 most used unix commands on the system
# Source; http://superuser.com/questions/250227/how-do-i-see-what-my-most-used-linux-command-are
function most() {
  history | awk '{CMD[$2]++;count++;}END { for (a in CMD)print CMD[a] " " CMD[a]/count*100 "% " a;}' | grep -v "./" | column -c3 -s " " -t | sort -nr | nl |  head -n10
}

# Skapar en mapp, hoppar sedan vidare till den
function take() {
  mkdir $1
  cd $1
}

function cb() {
  compile && burn
}

function not() {
  growlnotify -m "$*"
}

# Names the current tab
# Any argument will be used as name for the current tab
function name() {
  echo -ne "\033]0;"$@"\007"
}

# http://stackoverflow.com/questions/520650/how-do-you-make-an-existing-git-branch-track-a-remote-branch
function gu() {
  git branch --set-upstream $1 origin/$1
}

# Togglar mellan de olika ruby-versionerna
function tt() {
  if [[ `ruby -v` == *1.9.2* ]]
  then
    rvm use 1.8.7 >> /dev/null
    echo "==> 1.8.7"
  else
    rvm use 1.9.2 >> /dev/null;
    echo "==> 1.9.2";
  fi
}