- defaults:
    link:
      relink: true
      create: true
      force: false

- link:
    ~/.config/cargo/config.toml: configs/config/cargo/config.toml
    ~/.config/fish/config.fish: configs/config/fish/config.fish
    ~/.config/fish/fish_variables: configs/config/fish/fish_variables
    ~/.config/gh-copilot/config.yml: configs/config/gh-copilot/config.yml
    ~/.config/gh/config.yml: configs/config/gh/config.yml
    ~/.config/github-copilot/versions.json: configs/config/github-copilot/versions.json
    ~/.config/jgit/config: configs/config/jgit/config
    ~/.config/nvim/init.vim: configs/config/nvim/init.vim
    ~/.config/starship.toml: configs/config/starship.toml
    ~/.gemrc: configs/gemrc
    ~/.gitconfig: configs/gitconfig
    ~/.gitignore: configs/gitignore
    ~/.hushlogin: configs/hushlogin
    ~/.irbrc: configs/irbrc
    ~/.rspec: configs/rspec
    ~/.rubocop.yml: configs/rubocop.yml
    ~/.rustfmt.toml: configs/rustfmt.toml
    ~/.rustup/settings.toml: configs/rustup/settings.toml
    ~/.ssh/known_hosts: configs/ssh/known_hosts
    ~/.config/karabiner/karabiner.json: configs/config/karabiner/karabiner.json
    ~/.zshrc:
        path: configs/zshrc
        force: true
    ~/.bashrc:
        path: configs/bashrc
        force: true

- ifhostname:
  hostname: homeassistant.local
  met:
    - link:
        ~/.local:
            path: /share/ssh/local
            force: true
        ~/.cargo:
            path: /share/ssh/cargo
            force: true
        ~/.rustup:
            path: /share/ssh/rustup
            force: true

    - create:
        - /share/ssh/rustup
        - /share/ssh/local
        - /share/ssh/cargo

- shell:
  - [git submodule update --init --recursive, Installing submodules]
