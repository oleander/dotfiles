Host *
  ForwardAgent yes
  LocalCommand bash -c 'ssh -o PermitLocalCommand=no %n "which git >/dev/null && (if [[ -d ~/dotfiles ]]; then echo \"Updating dotfiles on %h ...\"; cd ~/dotfiles && git -c gc.auto=0 -c protocol.version=2 -c http.timeout=10 -c core.askPass=true stash -q && git -c gc.auto=0 -c protocol.version=2 -c http.timeout=10 -c pull.timeout=10 pull -q && echo \"Dotfiles updated successfully!\" || echo \"Could not update dotfiles\"; [[ -f ./install ]] && ./install >/dev/null; else echo \"Installing dotfiles on %h ...\"; git -c gc.auto=0 -c protocol.version=2 -c http.timeout=10 -c clone.timeout=10 clone -q https://github.com/oleander/dotfiles && ./dotfiles/install >/dev/null && echo \"Dotfiles installed successfully!\"; fi)"'
  ServerAliveInterval 600
  ConnectTimeout 120
  PermitLocalCommand yes

Host homeassistant
  HostName homeassistant.local
  User root

Host mini
  HostName mini.local
  User linus
