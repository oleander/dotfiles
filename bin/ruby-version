#!/usr/bin/env ruby -w

# Ruby Version Nice, version 0.1, 2011-03-08
# Copyright (c) 2011, Linus Oleander
# Released under the MIT licens

# Returns the current version of Ruby in a readable format
# Example => [1.9.2]
# Prints the current version if there is any ruby files in the current directory or one level down.

# Example 1 , will be printed
# -- ruby.rb

# Example 2, will be printed
# -- file.txt
# -- -- ruby.rb

# Example 3, will NOT be printed
# -- file.txt
# -- --  file.txt
# -- -- -- ruby.rb

# Errors will not be printed

puts "[#{`ruby -v`.match(/\d+.\d+.\d+/).to_a.first}] " unless `shopt -s nullglob dotglob; files=( *.rb */*.rb); if ((${#files[@]})); then echo "OK"; fi; shopt -u nullglob dotglob`.empty?